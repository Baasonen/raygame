{
    "version": "2.0.0",
    "tasks": [
        {
            // Use this task to build your main game executable.
            "label": "build-lidargame-root",
            "type": "shell", // Changed type to 'shell' for custom path control
            "command": "C:\\msys64\\ucrt64\\bin\\gcc.exe", // Uses your specific compiler path
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                // === INPUT: Force compile the main file in src ===
                "${workspaceFolder}/src/*.c",
                "-I${workspaceFolder}/include",
                
                // SDL3 includes and linker flags
                "-IC:/SDL3/include", 
                "-LC:/SDL3/lib",
                "-lSDL3",
                "-lm", 
                
                // === OUTPUT: Force output to the project root ===
                "-o",
                "${workspaceFolder}/a.exe" 
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "always"
            },
            "problemMatcher": "$gcc",
            // Removed 'options.cwd' as it's not strictly needed with ${workspaceFolder}
            "detail": "Compiles src/main.c and places game.exe in the project root."
        }
    ]
}